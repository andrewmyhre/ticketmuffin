@model TicketMuffin.Core.Services.CreateEventRequest
@using System.Text
@using System.Globalization
@{
    ViewBag.Title = "details";
}

@section css
{
<link rel="stylesheet" type="text/css" href="/markitup/skins/simple/style.css" />
<link rel="stylesheet" type="text/css" href="/markitup/sets/markDown/style.css" />
}

@section scripts {
<script src="/scripts/jquery-ui-1.8.11.min.js" type="text/javascript"></script>
<script type="text/javascript" src="/markitup/jquery.markitup.js"></script>
<script type="text/javascript" src="/markitup/sets/markDown/set.js"></script>
<script type="text/javascript" src="/scripts/jquery.watermark.min.js"></script>
<script type="text/javascript" src='http://maps.google.com/maps/api/js?sensor=false'></script>
<script type="text/javascript" src="/scripts/createevent.js"></script>
}


<h2>Create Event</h2>

<div>
@using (Html.BeginForm("create", "CreateEvent", FormMethod.Post, new {enctype = "multipart/form-data"}))
{
    <div class="grayBox">
        <div id="dialectics"></div>

        <div id="map" style="width:300px;height:250px;float:right;display:none;"></div>

          <div style="padding-bottom: 10px;">
            <label style="display: inline-block; width: 200px;">@Html.LabelFor(m => m.Title)</label>
            @Html.TextBoxFor(m => m.Title)
            @Html.ValidationMessageFor(m => m.Title)
          </div>

          <div style="padding-bottom: 10px;">
            <label style="display: inline-block; width: 200px;">@Html.LabelFor(m => m.ShortUrl)</label>
            @Html.TextBoxFor(m => m.ShortUrl)
            <span id="urlAvailability"></span>
            @Html.ValidationMessageFor(m => m.ShortUrl)
          </div>

          <div style="padding-bottom: 10px;">
            <label style="display: inline-block; width: 200px;">@Html.LabelFor(m => m.StartDate)</label>
            @Html.TextBox("startDate", Model.StartDateTime.ToShortDateString(), new { style = "width:120px" })
            @Html.DropDownList("startTime", Model.StartTimes, new { style = "width:175px" })
            @Html.ValidationMessageFor(m => m.StartDateTime)
          </div>

          <div style="padding-bottom:10px">
            @{ Html.RenderPartial("CharitySelection"); }
          </div>
        
          <div style="padding-bottom: 10px;">
            <label style="display: inline-block; width: 200px;">@Html.LabelFor(m => m.Venue)</label>
            @Html.TextBoxFor(m => m.Venue)
            @Html.ValidationMessageFor(m => m.Venue)
          </div>

          <div style="padding-bottom: 10px;">
            <label style="display: inline-block; width: 200px;">@Html.LabelFor(m => m.AddressLine)</label>
            @Html.TextBoxFor(m => m.AddressLine)
            @Html.ValidationMessageFor(m => m.AddressLine)
          </div>

          <div style="padding-bottom: 10px;">
            <label style="display: inline-block; width: 200px;">@Html.LabelFor(m => m.City)</label>
            @Html.TextBoxFor(m => m.City)
            @Html.ValidationMessageFor(m => m.City)
          </div>

          <div style="padding-bottom: 10px;">
            <label style="display: inline-block; width: 200px;">@Html.LabelFor(m => m.Postcode)</label>
            @Html.TextBox("Postcode", "", new { @class = "short" })
            @Html.ValidationMessageFor(m => m.Postcode)
          </div>

          <div style="padding-bottom: 10px;">
            <label style="display: inline-block; width: 200px;">@Html.LabelFor(m => m.Country)</label>
            @Html.DropDownList("Country", Model.Countries, new {style="width:318px;"})
            @Html.ValidationMessageFor(vm => vm.Country)
        </div>

        @Html.HiddenFor(vm=>vm.Latitude)
        @Html.HiddenFor(vm=>vm.Longitude)

          <div style="padding-bottom: 10px;">
            <label style="display: inline-block; width: 200px; float:left;">@Html.LabelFor(m => m.Description)</label>
            @Html.TextArea("Description", "", 6, 50, null)
            @Html.ValidationMessageFor(m => m.Description)
          </div>

        <div style="padding-bottom: 10px;">
            <label style="display:inline-block;width:200px">Upload image</label>
            <input type="file" name="imageFile"/>
            @Html.ValidationMessageFor(m=>m.ImageFilename)
        </div>

        <div style="padding-bottom: 10px;">
            <label style="display: inline-block; width: 200px;"></label>
            @Html.CheckBoxFor(m => m.IsPrivate)
            <label for="IsPrivate" style="width:300px">Private event (Url is not published)</label>
        </div>
        
        <div style="padding-bottom: 10px;">
            <label style="display: inline-block; width: 200px;"></label>
            @Html.CheckBoxFor(m => m.IsFeatured)
            <label for="IsFeatured" style="width:300px">I want this event to be featured</label>
        </div>

        <div style="padding-bottom: 10px;">
            <label style="display: inline-block; width: 200px;">@Html.LabelFor(m => m.PhoneNumber)</label>
            @Html.TextBoxFor(m => m.PhoneNumber)
            @Html.ValidationMessageFor(m => m.PhoneNumber)
        </div>
        <div class="formvalidation">
        </div>

        <div class="formline">
            <label style="display: inline-block; width: 200px;"></label>
            <input type="submit" value="Next" style="font-size: 20px; font-weight: bold; padding: 7px 50px;" />
        </div>
    </div>
}
</div>
<div class="clearfix" />
