@model TicketMuffin.Core.Services.SetTicketDetailsRequest

@{
    ViewBag.Title = "tickets";
}

<h2>Enter ticket details</h2>

@section scripts {
    <script src="/Scripts/jquery-ui-1.8.11.min.js" type="text/javascript"></script>
    <script src="/Scripts/tickets.js" type="text/javascript"></script>
}

<div>
@using (Html.BeginForm("tickets", "CreateEvent", FormMethod.Post, new {id="tickets-form"}))
{
    <div class="graybox">
        <div class="formline">
            @Html.LabelFor(m => m.TicketPrice)
            @Html.TextBoxFor(m => m.TicketPrice, new { @class = "short" })
            @Html.ValidationMessageFor(m => m.TicketPrice)
            
            @Html.DropDownListFor(vm=>vm.Currency, new SelectList(Enum.GetValues(typeof(GroupGiving.Core.Domain.Currency)), Model.Currency), new {style="width:100px"})
            @Html.ValidationMessageFor(m => m.Currency)
        </div>

        <div class="formline">
            @Html.LabelFor(m => m.MinimumParticipants)
            @Html.TextBoxFor(m => m.MinimumParticipants, new { @class = "short" })
            @Html.ValidationMessageFor(m => m.MinimumParticipants)
        </div>

        <div class="formline" style="margin-bottom:2px">
            @Html.LabelFor(m => m.MaximumParticipants)
            @Html.TextBoxFor(m => m.MaximumParticipants, new { @class = "short" })
            @Html.ValidationMessageFor(m => m.MaximumParticipants)
        </div>

        <div class="formline" id="paypal-name-container" style="display:none">
            <div><label for="PayPalFirstName">PayPal account first name:</label>@Html.TextBoxFor(m=>m.PayPalFirstName)</div>
            <div><label for="PayPalLastName">PayPal account last name:</label>@Html.TextBoxFor(m=>m.PayPalLastName)</div>
        </div>

        <div class="formline" id="paypal-email-container">
            @Html.LabelFor(m => m.PayPalEmail)
            @Html.TextBoxFor(m => m.PayPalEmail) <span id="pp-verify-result"></span> Need to create a PayPal account? <a href="https://www.paypal.com/en/cgi-bin/webscr?cmd=_registration-run" target="_blank">Click here</a>.
            @Html.ValidationMessageFor(m => m.PayPalEmail)
        </div>

        <div class="formline">
            <label>Sales End</label>
            @Html.TextBox("salesEndDate", Model.SalesEndDateTime.ToShortDateString())
            @Html.DropDownList("salesEndTime", Model.SalesEndTimeOptions, new { style = "width:120px" })
            @Html.ValidationMessageFor(m => m.SalesEndDateTime)
        </div>
        <div class="formline">
            <label style="display: inline-block; width: 200px; float:left;">@Html.LabelFor(m => m.AdditionalBenefits)
            <br /></label>
            @Html.TextArea("AdditionalBenefits", "", 6, 50, null)
            @Html.ValidationMessageFor(m=>m.AdditionalBenefits)
        </div>

        <div class="formvalidation">
            <label style="display: inline-block; width: 200px;"></label>
            <input type="submit" value="Finish" style="font-size: 20px; font-weight: bold; padding: 7px 50px;" />
        </div>
    </div>
}
</div>
